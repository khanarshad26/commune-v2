{"ast":null,"code":"var _jsxFileName = \"/home/shantanu/Vulcanzy/commune-v2/client/src/components/portfolio/about/About.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../../../context/AuthContext.js';\nimport ModeEditOutlineIcon from \"@mui/icons-material/ModeEditOutline\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst About = () => {\n  _s();\n\n  const {\n    user\n  } = useContext(AuthContext);\n  const [about, setAbout] = useState(user.about);\n  const [aboutToggle, setAboutToggle] = useState(false);\n\n  const fetchAbout = async () => {\n    try {\n      const res = await axios.get(`/api/about/${user._id}`);\n      setAbout(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    fetchAbout(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const aboutCancelHandler = e => {\n    setAboutToggle(!about);\n  };\n\n  const aboutSaveHandler = async e => {\n    try {\n      console.log(\"About : \" + about);\n      setAboutToggle(!aboutToggle);\n      await axios.post(`/api/about/${user._id}`, {\n        about: about\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shadowBox\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"shadowBoxUpper\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"shadowBoxText\",\n          children: \"About you\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ModeEditOutlineIcon, {\n          className: \"shadowBoxIcon\",\n          onClick: () => setAboutToggle(!aboutToggle)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"aboutBoxMiddle\",\n        children: aboutToggle ? /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"textarea\",\n          value: about,\n          onChange: e => setAbout(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: about\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), aboutToggle ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boxBottom\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cancel\",\n          onClick: aboutCancelHandler,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"save\",\n          onClick: aboutSaveHandler,\n          children: \"save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(About, \"DqobX/F7O6L6Plr8T5l0K2gidgg=\");\n\n_c = About;\nexport default About;\n\nvar _c;\n\n$RefreshReg$(_c, \"About\");","map":{"version":3,"sources":["/home/shantanu/Vulcanzy/commune-v2/client/src/components/portfolio/about/About.jsx"],"names":["React","useState","useEffect","useContext","AuthContext","ModeEditOutlineIcon","axios","About","user","about","setAbout","aboutToggle","setAboutToggle","fetchAbout","res","get","_id","data","err","console","log","aboutCancelHandler","e","aboutSaveHandler","post","target","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,SAAQC,WAAR,QAA0B,iCAA1B;AACA,OAAOC,mBAAP,MAAgC,qCAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB,QAAM;AAACC,IAAAA;AAAD,MAASL,UAAU,CAACC,WAAD,CAAzB;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAACO,IAAI,CAACC,KAAN,CAAlC;AACA,QAAM,CAACE,WAAD,EAAcC,cAAd,IAAgCX,QAAQ,CAAC,KAAD,CAA9C;;AAEA,QAAMY,UAAU,GAAG,YAAW;AAC5B,QAAG;AACD,YAAMC,GAAG,GAAG,MAAMR,KAAK,CAACS,GAAN,CAAW,cAAaP,IAAI,CAACQ,GAAI,EAAjC,CAAlB;AACAN,MAAAA,QAAQ,CAACI,GAAG,CAACG,IAAL,CAAR;AACD,KAHD,CAGC,OAAMC,GAAN,EAAU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,GAPD;;AASAhB,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,UAAU,GADI,CAEd;AACD,GAHQ,EAGP,EAHO,CAAT;;AAKA,QAAMQ,kBAAkB,GAAIC,CAAD,IAAO;AAC9BV,IAAAA,cAAc,CAAC,CAACH,KAAF,CAAd;AACH,GAFD;;AAIA,QAAMc,gBAAgB,GAAG,MAAMD,CAAN,IAAY;AACjC,QAAG;AACDH,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAaX,KAAzB;AACAG,MAAAA,cAAc,CAAC,CAACD,WAAF,CAAd;AACA,YAAML,KAAK,CAACkB,IAAN,CAAY,cAAahB,IAAI,CAACQ,GAAI,EAAlC,EAAoC;AAC1CP,QAAAA,KAAK,EAAGA;AADkC,OAApC,CAAN;AAGD,KAND,CAMC,OAAMS,GAAN,EAAU;AACTC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACJ,GAVD;;AAYA,sBACE;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,gCACE;AAAM,UAAA,SAAS,EAAC,eAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,mBAAD;AACE,UAAA,SAAS,EAAC,eADZ;AAEE,UAAA,OAAO,EAAE,MAAMN,cAAc,CAAC,CAACD,WAAF;AAF/B;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAQE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA,kBACGA,WAAW,gBACV;AACE,UAAA,SAAS,EAAC,UADZ;AAEE,UAAA,KAAK,EAAIF,KAFX;AAGE,UAAA,QAAQ,EAAGa,CAAD,IAAOZ,QAAQ,CAACY,CAAC,CAACG,MAAF,CAASC,KAAV;AAH3B;AAAA;AAAA;AAAA;AAAA,gBADU,gBAOV;AAAA,oBAAIjB;AAAJ;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA,cARF,EAoBGE,WAAW,gBACV;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,QAAf;AAAwB,UAAA,OAAO,EAAEU,kBAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAsB,UAAA,OAAO,EAAEE,gBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,cADU,GASR,IA7BN;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AAmCD,CAtED;;GAAMhB,K;;KAAAA,K;AAwEN,eAAeA,KAAf","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\nimport {AuthContext} from '../../../context/AuthContext.js';\nimport ModeEditOutlineIcon from \"@mui/icons-material/ModeEditOutline\";\nimport axios from \"axios\";\n\nconst About = () => {\n  const {user} = useContext(AuthContext);\n  const [about, setAbout] = useState(user.about);\n  const [aboutToggle, setAboutToggle] = useState(false);\n\n  const fetchAbout = async() => {\n    try{\n      const res = await axios.get(`/api/about/${user._id}`);\n      setAbout(res.data);\n    }catch(err){\n      console.log(err);\n    }\n  }\n\n  useEffect(() => {\n    fetchAbout();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  },[])\n\n  const aboutCancelHandler = (e) => {\n      setAboutToggle(!about);\n  }\n\n  const aboutSaveHandler = async(e) => {\n      try{\n        console.log(\"About : \" + about);\n        setAboutToggle(!aboutToggle);\n        await axios.post(`/api/about/${user._id}`,{\n        about : about\n        });\n      }catch(err){\n        console.log(err);\n      }\n  }\n\n  return (\n    <>\n      <div className=\"shadowBox\">\n        <div className=\"shadowBoxUpper\">\n          <span className=\"shadowBoxText\">About you</span>\n          <ModeEditOutlineIcon\n            className=\"shadowBoxIcon\"\n            onClick={() => setAboutToggle(!aboutToggle)}\n          />\n        </div>\n        <div className=\"aboutBoxMiddle\">\n          {aboutToggle ? (\n            <textarea\n              className=\"textarea\"\n              value = {about}\n              onChange={(e) => setAbout(e.target.value)}\n            />\n          ) : (\n            <p>{about}</p>\n          )}\n        </div>\n\n        {aboutToggle ? (\n          <div className=\"boxBottom\">\n            <div className=\"cancel\" onClick={aboutCancelHandler}>\n              Cancel\n            </div>\n            <div className=\"save\" onClick={aboutSaveHandler}>\n              save\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default About;\n"]},"metadata":{},"sourceType":"module"}