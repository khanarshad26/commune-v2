{"ast":null,"code":"var _jsxFileName = \"/home/shantanu/Vulcanzy/commune-v2/client/src/pages/event/Event.jsx\",\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState, useRef } from \"react\";\nimport \"./style.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\"; // import DropzoneComponent from \"../../components/dropzone/Dropzone.jsx\";\n\nimport PhotoCameraBackIcon from \"@mui/icons-material/PhotoCameraBack\";\nimport { Cancel } from \"@material-ui/icons\";\nimport EventCard from '../../components/eventCard/EventCard.jsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Event = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const {\n    user\n  } = useContext(AuthContext);\n  const [events, setEvents] = useState([]);\n  const [campusEvents, setCampusEvents] = useState([]);\n  const [exploreEvents, setExploreEvents] = useState([]);\n  const [isOpen, setIsOpen] = useState(false);\n  const [showEvents, setShowEvents] = useState(true);\n  const [showCampusEvents, setShowCampusEvents] = useState(false);\n  const [showExploreEvents, setShowExploreEvents] = useState(false);\n\n  const fetchEvents = async () => {\n    const res = await axios.get(`/api/event/all/${user._id}`);\n    setEvents(res.data.sort((p1, p2) => {\n      return new Date(p2.createdAt) - new Date(p1.createdAt);\n    }));\n  };\n\n  const fetchCampusEvents = async () => {\n    const res = await axios.get(`/api/event/institute/all/${user.institute}`);\n    setCampusEvents(res.data.sort((p1, p2) => {\n      return new Date(p2.createdAt) - new Date(p1.createdAt);\n    }));\n  };\n\n  const fetchExploreEvents = async () => {\n    const res = await axios.get(`/api/event/all/${user.institute}`);\n    setExploreEvents(res.data.sort((p1, p2) => {\n      return new Date(p2.createdAt) - new Date(p1.createdAt);\n    }));\n  };\n\n  useEffect(() => {\n    fetchEvents(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const AddEvent = () => {\n    _s();\n\n    const hostname = useRef(null);\n    const name = useRef(null);\n    const description = useRef(null);\n    const from = useRef(null);\n    const to = useRef(null);\n    const venue = useRef(null);\n    const summary = useRef(null);\n    const type = useRef(null);\n    const [file, setFile] = useState(null);\n\n    const saveHandler = async e => {\n      e.preventDefault();\n      const addEvent = {\n        userId: user._id,\n        hostname: hostname.current.value,\n        name: name.current.value,\n        description: description.current.value,\n        from: from.current.value,\n        to: to.current.value,\n        venue: venue.current.value,\n        summary: summary.current.value,\n        type: type.current.value,\n        institute: user.institute\n      };\n\n      if (file) {\n        const data = new FormData();\n        const fileName = Date.now() + file.name;\n        data.append(\"name\", fileName);\n        data.append(\"file\", file);\n        addEvent.coverPicture = \"/assets/\" + fileName;\n\n        try {\n          await axios.post(\"/api/upload\", data);\n        } catch (err) {\n          console.log(err);\n        }\n      }\n\n      try {\n        await axios.post(`/api/event/`, addEvent);\n      } catch (err) {\n        console.log(err);\n      }\n\n      setIsOpen(false);\n      setFile(null);\n      setShowEvents(true);\n    };\n\n    const cancelHandler = () => {\n      setIsOpen(false);\n      setShowEvents(true);\n    };\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"addEventShadowBox\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"shadowBoxUpper\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"shadowBoxText\",\n            children: \"Create Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add addEventContainer\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"halfSection\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"halfInputContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Event Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"input\",\n                  ref: name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"halfInputContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Host Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"input\",\n                  ref: hostname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fullSection\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Event Summary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"input\",\n                  ref: summary\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fullSection\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Venue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"input\",\n                  ref: venue\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"halfSection\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"halfInputContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  className: \"input\",\n                  ref: from\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"halfInputContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"To\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  className: \"input\",\n                  ref: to\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n              className: \"halfInputContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"labelEventType\",\n                children: \"Event Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"selectEvent\",\n                ref: type,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Select event\",\n                  diasabled: true,\n                  children: \"--Select--\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"General\",\n                  children: \"General\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Cultural\",\n                  children: \"Cultural\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Literary\",\n                  children: \"Literary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Technical\",\n                  children: \"Technical\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inputContainer\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file\",\n                className: \"shareOption\",\n                children: [/*#__PURE__*/_jsxDEV(PhotoCameraBackIcon, {\n                  htmlColor: \"tomato\",\n                  className: \"shareIcon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"label\",\n                  children: \"Event Cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    display: \"none\"\n                  },\n                  type: \"file\",\n                  id: \"file\",\n                  accept: \".png,.jpeg,.jpg, .pdf, .dox, .zip, .xlsx\",\n                  onChange: e => setFile(e.target.files[0])\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), file && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shareEventImgContainer\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"shareImg\",\n                src: URL.createObjectURL(file),\n                alt: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Cancel, {\n                className: \"shareCancelImg\",\n                onClick: () => setFile(null)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"fullSection\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"inputContainer\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"label\",\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \" addEventTextarea\",\n                  type: \"text\",\n                  rows: 4,\n                  ref: description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"boxBottom\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"cancel\",\n                onClick: cancelHandler,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"save\",\n                onClick: saveHandler,\n                children: \"save\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  }; // const EventCard = ({ event }) => {\n  //   const from = new Date(event.from);\n  //   const month = [\n  //     \"Jan\",\n  //     \"Feb\",\n  //     \"Mar\",\n  //     \"Apr\",\n  //     \"May\",\n  //     \"Jun\",\n  //     \"Jul\",\n  //     \"Aug\",\n  //     \"Sep\",\n  //     \"Oct\",\n  //     \"Nov\",\n  //     \"Dec\",\n  //   ];\n  //   const time =\n  //     month[from.getMonth()] +\n  //     \" \" +\n  //     from.getDate() +\n  //     \", \" +\n  //     (from.getHours() % 12 < 10\n  //       ? \"0\" + (from.getHours() % 12)\n  //       : from.getHours() % 12) +\n  //     \":\" +\n  //     (from.getMinutes() < 10 ? \"0\" + from.getMinutes() : from.getMinutes()) +\n  //     \" \" +\n  //     (from.getHours() >= 12 ? \" PM\" : \" AM\") +\n  //     \" IST\";\n  //   return (\n  //     <>\n  //       <div className=\"eventCardContainer\">\n  //         <img\n  //           src={event.coverPicture || \"\"}\n  //           className=\"eventThumbnailEvent\"\n  //           alt=\" \"\n  //         />\n  //         <div className=\"eventHost\">{event.hostname}</div>\n  //         <div className=\"eventTitle\">{event.eventName}</div>\n  //         <div className=\"startsOn\">STARTS ON</div>\n  //         <div className=\"eventTime\">{time}</div>\n  //         <Link to={{ pathname: `/event/${event._id}` }} className=\"learnMore\">\n  //           Know more\n  //         </Link>\n  //       </div>\n  //     </>\n  //   );\n  // };\n\n\n  _s(AddEvent, \"LI8q1w4mwW0LnJ4XyMeNKMduT0w=\");\n\n  const EventsList = ({\n    eventsList\n  }) => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"eventsList\",\n        children: eventsList.map(event => {\n          return /*#__PURE__*/_jsxDEV(EventCard, {\n            event: event\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 20\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n\n  const showEventHandler = () => {\n    setIsOpen(false);\n    setShowCampusEvents(false);\n    setShowEvents(true);\n    setShowExploreEvents(false);\n    fetchEvents();\n  };\n\n  const showCampusEventHandler = () => {\n    setIsOpen(false);\n    setShowCampusEvents(true);\n    setShowEvents(false);\n    setShowExploreEvents(false);\n    fetchCampusEvents();\n  };\n\n  const showExploreEventHandler = () => {\n    setIsOpen(false);\n    setShowCampusEvents(false);\n    setShowEvents(false);\n    setShowExploreEvents(true);\n    fetchExploreEvents();\n  };\n\n  const showAddEventHandler = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"eventPageContainer\",\n      children: [/*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"eventPageRight\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"yourEvents\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"commonLayoutHeader\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"commonLayoutHeaderLeft\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"commonLayoutHeading\",\n                onClick: showEventHandler,\n                children: \"Your\\xA0Events\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"commonLayoutHeading\",\n                onClick: showCampusEventHandler,\n                children: \"Campus\\xA0Events\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"commonLayoutHeading\",\n                onClick: showExploreEventHandler,\n                children: \"Explore\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"commonLayoutHeaderRight\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"commonLayoutHeading\",\n                onClick: showAddEventHandler,\n                children: \"Create\\xA0Event\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), isOpen ? /*#__PURE__*/_jsxDEV(AddEvent, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 23\n          }, this) : null, showEvents ? /*#__PURE__*/_jsxDEV(EventsList, {\n            eventsList: events\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 27\n          }, this) : null, showCampusEvents ? /*#__PURE__*/_jsxDEV(EventsList, {\n            eventsList: campusEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 33\n          }, this) : null, showExploreEvents ? /*#__PURE__*/_jsxDEV(EventsList, {\n            eventsList: exploreEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s2(Event, \"rqpbNTKFOa6umkgeV0pajVP1e2Y=\");\n\n_c = Event;\nexport default Event;\n\nvar _c;\n\n$RefreshReg$(_c, \"Event\");","map":{"version":3,"sources":["/home/shantanu/Vulcanzy/commune-v2/client/src/pages/event/Event.jsx"],"names":["React","useContext","useEffect","useState","useRef","Topbar","Sidebar","AuthContext","axios","Link","PhotoCameraBackIcon","Cancel","EventCard","Event","user","events","setEvents","campusEvents","setCampusEvents","exploreEvents","setExploreEvents","isOpen","setIsOpen","showEvents","setShowEvents","showCampusEvents","setShowCampusEvents","showExploreEvents","setShowExploreEvents","fetchEvents","res","get","_id","data","sort","p1","p2","Date","createdAt","fetchCampusEvents","institute","fetchExploreEvents","AddEvent","hostname","name","description","from","to","venue","summary","type","file","setFile","saveHandler","e","preventDefault","addEvent","userId","current","value","FormData","fileName","now","append","coverPicture","post","err","console","log","cancelHandler","display","target","files","URL","createObjectURL","EventsList","eventsList","map","event","showEventHandler","showCampusEventHandler","showExploreEventHandler","showAddEventHandler"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState, useRef } from \"react\";\nimport \"./style.css\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n// import DropzoneComponent from \"../../components/dropzone/Dropzone.jsx\";\nimport PhotoCameraBackIcon from \"@mui/icons-material/PhotoCameraBack\";\nimport { Cancel } from \"@material-ui/icons\";\nimport EventCard from '../../components/eventCard/EventCard.jsx'\n\nconst Event = () => {\n  const { user } = useContext(AuthContext);\n\n  const [events, setEvents] = useState([]);\n  const [campusEvents, setCampusEvents] = useState([]);\n  const [exploreEvents, setExploreEvents] = useState([]);\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [showEvents, setShowEvents] = useState(true);\n  const [showCampusEvents, setShowCampusEvents] = useState(false);\n  const [showExploreEvents, setShowExploreEvents] = useState(false);\n\n  const fetchEvents = async () => {\n    const res = await axios.get(`/api/event/all/${user._id}`);\n    setEvents(\n      res.data.sort((p1, p2) => {\n        return new Date(p2.createdAt) - new Date(p1.createdAt);\n      })\n    );\n  };\n\n  const fetchCampusEvents = async () => {\n    const res = await axios.get(`/api/event/institute/all/${user.institute}`);\n    setCampusEvents(\n      res.data.sort((p1, p2) => {\n        return new Date(p2.createdAt) - new Date(p1.createdAt);\n      })\n    );\n  };\n\n  const fetchExploreEvents = async () => {\n    const res = await axios.get(`/api/event/all/${user.institute}`);\n    setExploreEvents(\n      res.data.sort((p1, p2) => {\n        return new Date(p2.createdAt) - new Date(p1.createdAt);\n      })\n    );\n  };\n\n  useEffect(() => {\n    fetchEvents();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const AddEvent = () => {\n    const hostname = useRef(null);\n    const name = useRef(null);\n    const description = useRef(null);\n    const from = useRef(null);\n    const to = useRef(null);\n    const venue = useRef(null);\n    const summary = useRef(null);\n    const type = useRef(null);\n    const [file, setFile] = useState(null);\n\n    const saveHandler = async (e) => {\n      e.preventDefault();\n      const addEvent = {\n        userId: user._id,\n        hostname: hostname.current.value,\n        name: name.current.value,\n        description: description.current.value,\n        from: from.current.value,\n        to: to.current.value,\n        venue: venue.current.value,\n        summary: summary.current.value,\n        type: type.current.value,\n        institute : user.institute\n      };\n      if (file) {\n        const data = new FormData();\n\n        const fileName = Date.now() + file.name;\n        data.append(\"name\", fileName);\n        data.append(\"file\", file);\n        addEvent.coverPicture = \"/assets/\" + fileName;\n        try {\n          await axios.post(\"/api/upload\", data);\n        } catch (err) {\n          console.log(err);\n        }\n      }\n      try {\n        await axios.post(`/api/event/`, addEvent);\n      } catch (err) {\n        console.log(err);\n      }\n      setIsOpen(false);\n      setFile(null);\n      setShowEvents(true);\n    };\n\n    const cancelHandler = () => {\n      setIsOpen(false);\n      setShowEvents(true);\n    };\n\n    return (\n      <>\n        <div className=\"addEventShadowBox\">\n          <div className=\"shadowBoxUpper\">\n            <span className=\"shadowBoxText\">Create Event</span>\n          </div>\n          <div className=\"add addEventContainer\">\n            <form className=\"form\">\n              <div className=\"halfSection\">\n                <div className=\"halfInputContainer\">\n                  <label className=\"label\">Event Name</label>\n                  <input type=\"text\" className=\"input\" ref={name} />\n                </div>\n\n                <div className=\"halfInputContainer\">\n                  <label className=\"label\">Host Name</label>\n                  <input type=\"text\" className=\"input\" ref={hostname} />\n                </div>\n              </div>\n\n              <div className=\"fullSection\">\n                <div className=\"inputContainer\">\n                  <label className=\"label\">Event Summary</label>\n                  <input type=\"text\" className=\"input\" ref={summary} />\n                </div>\n              </div>\n\n              <div className=\"fullSection\">\n                <div className=\"inputContainer\">\n                  <label className=\"label\">Venue</label>\n                  <input type=\"text\" className=\"input\" ref={venue} />\n                </div>\n              </div>\n\n              <div className=\"halfSection\">\n                <div className=\"halfInputContainer\">\n                  <label className=\"label\">From</label>\n                  <input type=\"datetime-local\" className=\"input\" ref={from} />\n                </div>\n                <div className=\"halfInputContainer\">\n                  <label className=\"label\">To</label>\n                  <input type=\"datetime-local\" className=\"input\" ref={to} />\n                </div>\n              </div>\n\n              <section className=\"halfInputContainer\">\n                <label className=\"labelEventType\">Event Type</label>\n                <select className=\"selectEvent\" ref={type}>\n                  <option value=\"Select event\" diasabled>\n                    --Select--\n                  </option>\n                  <option value=\"General\">General</option>\n                  <option value=\"Cultural\">Cultural</option>\n                  <option value=\"Literary\">Literary</option>\n                  <option value=\"Technical\">Technical</option>\n                </select>\n              </section>\n\n              {/* <div className=\"fullSection\">\n                <div className=\"inputContainer\">\n                  <label className=\"label\">Cover Picture</label>\n                  <DropzoneComponent />\n                </div>\n              </div> */}\n\n              <div className=\"inputContainer\">\n                <label htmlFor=\"file\" className=\"shareOption\">\n                  <PhotoCameraBackIcon\n                    htmlColor=\"tomato\"\n                    className=\"shareIcon\"\n                  />\n                  <span className=\"label\">Event Cover</span>\n                  <input\n                    style={{ display: \"none\" }}\n                    type=\"file\"\n                    id=\"file\"\n                    accept=\".png,.jpeg,.jpg, .pdf, .dox, .zip, .xlsx\"\n                    onChange={(e) => setFile(e.target.files[0])}\n                  />\n                </label>\n              </div>\n\n              {file && (\n                <div className=\"shareEventImgContainer\">\n                  <img\n                    className=\"shareImg\"\n                    src={URL.createObjectURL(file)}\n                    alt=\" \"\n                  />\n                  <Cancel\n                    className=\"shareCancelImg\"\n                    onClick={() => setFile(null)}\n                  />\n                </div>\n              )}\n\n              <div className=\"fullSection\">\n                <div className=\"inputContainer\">\n                  <label className=\"label\">Description</label>\n                  <textarea\n                    className=\" addEventTextarea\"\n                    type=\"text\"\n                    rows={4}\n                    ref={description}\n                  />\n                </div>\n              </div>\n\n              <div className=\"boxBottom\">\n                <div className=\"cancel\" onClick={cancelHandler}>\n                  Cancel\n                </div>\n                <div className=\"save\" onClick={saveHandler}>\n                  save\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </>\n    );\n  };\n\n  // const EventCard = ({ event }) => {\n  //   const from = new Date(event.from);\n  //   const month = [\n  //     \"Jan\",\n  //     \"Feb\",\n  //     \"Mar\",\n  //     \"Apr\",\n  //     \"May\",\n  //     \"Jun\",\n  //     \"Jul\",\n  //     \"Aug\",\n  //     \"Sep\",\n  //     \"Oct\",\n  //     \"Nov\",\n  //     \"Dec\",\n  //   ];\n  //   const time =\n  //     month[from.getMonth()] +\n  //     \" \" +\n  //     from.getDate() +\n  //     \", \" +\n  //     (from.getHours() % 12 < 10\n  //       ? \"0\" + (from.getHours() % 12)\n  //       : from.getHours() % 12) +\n  //     \":\" +\n  //     (from.getMinutes() < 10 ? \"0\" + from.getMinutes() : from.getMinutes()) +\n  //     \" \" +\n  //     (from.getHours() >= 12 ? \" PM\" : \" AM\") +\n  //     \" IST\";\n  //   return (\n  //     <>\n  //       <div className=\"eventCardContainer\">\n  //         <img\n  //           src={event.coverPicture || \"\"}\n  //           className=\"eventThumbnailEvent\"\n  //           alt=\" \"\n  //         />\n\n  //         <div className=\"eventHost\">{event.hostname}</div>\n  //         <div className=\"eventTitle\">{event.eventName}</div>\n  //         <div className=\"startsOn\">STARTS ON</div>\n  //         <div className=\"eventTime\">{time}</div>\n  //         <Link to={{ pathname: `/event/${event._id}` }} className=\"learnMore\">\n  //           Know more\n  //         </Link>\n  //       </div>\n  //     </>\n  //   );\n  // };\n\n  const EventsList = ({ eventsList }) => {\n    return (\n      <>\n        <div className=\"eventsList\">\n          {eventsList.map((event) => {\n            return <EventCard event={event} />;\n          })}\n        </div>\n      </>\n    );\n  };\n\n  const showEventHandler = () => {\n    setIsOpen(false);\n    setShowCampusEvents(false);\n    setShowEvents(true);\n    setShowExploreEvents(false);\n    fetchEvents();\n  };\n\n  const showCampusEventHandler = () => {\n    setIsOpen(false);\n    setShowCampusEvents(true);\n    setShowEvents(false);\n    setShowExploreEvents(false);\n    fetchCampusEvents();\n  };\n\n  const showExploreEventHandler = () => {\n    setIsOpen(false);\n    setShowCampusEvents(false);\n    setShowEvents(false);\n    setShowExploreEvents(true);\n    fetchExploreEvents();\n  };\n\n  const showAddEventHandler = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <>\n      \n      <div className=\"eventPageContainer\">\n        <Sidebar />\n        <div className=\"eventPageRight\">\n          <div className=\"yourEvents\">\n            <div className=\"commonLayoutHeader\">\n              <div className=\"commonLayoutHeaderLeft\">\n                <div className=\"commonLayoutHeading\" onClick={showEventHandler}>\n                  Your&nbsp;Events\n                </div>\n                <div\n                  className=\"commonLayoutHeading\"\n                  onClick={showCampusEventHandler}\n                >\n                  Campus&nbsp;Events\n                </div>\n                <div\n                  className=\"commonLayoutHeading\"\n                  onClick={showExploreEventHandler}\n                >\n                  Explore\n                </div>\n              </div>\n\n              <div className=\"commonLayoutHeaderRight\">\n                <div\n                  className=\"commonLayoutHeading\"\n                  onClick={showAddEventHandler}\n                >\n                  Create&nbsp;Event\n                </div>\n              </div>\n            </div>\n\n            {isOpen ? <AddEvent /> : null}\n\n            {showEvents ? <EventsList eventsList={events} /> : null}\n\n            {showCampusEvents ? <EventsList eventsList={campusEvents} /> : null}\n\n            {showExploreEvents ? (\n              <EventsList eventsList={exploreEvents} />\n            ) : null}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Event;\n"]},"metadata":{},"sourceType":"module"}